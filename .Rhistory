#y축을 지정
ggplot(data = H_anti, aes(x = date, y = category_pt)) +
geom_point(aes(color = "Total(anti)"), size = 1.5) +
geom_line(aes(color = "Total(anti)")) +
geom_point(data = H_peni, aes(color = "Penicillins"), size = 1.5) +
geom_line(data = H_peni, aes(color = "Penicillins")) +
geom_point(data = H_cepha, aes(color = "Cephalosporins"), size = 1.5) +
geom_line(data = H_cepha, aes(color = "Cephalosporins")) +
geom_point(data = H_tetra, aes(color = "Tetracyclines"), size = 1.5) +
geom_line(data = H_tetra, aes(color = "Tetracyclines")) +
geom_point(data = H_macro, aes(color = "Macrolides"), size = 1.5) +
geom_line(data = H_macro, aes(color = "Macrolides")) +
geom_point(data = H_glyco, aes(color = "Glycopeptides"), size = 1.5) +
geom_line(data = H_glyco, aes(color = "Glycopeptides")) +
geom_point(data = H_amino, aes(color = "Aminoglycosides"), size = 1.5) +
geom_line(data = H_amino, aes(color = "Aminoglycosides")) +
geom_point(data = H_amphe, aes(color = "Amphenicols"), size = 1.5) +
geom_line(data = H_amphe, aes(color = "Amphenicols")) +
geom_point(data = H_keto, aes(color = "Ketolides"), size = 1.5) +
geom_line(data = H_keto, aes(color = "Ketolides")) +
geom_point(data = H_other, aes(color = "Other"), size = 1.5) +
geom_line(data = H_other, aes(color = "Other")) +
geom_hline(yintercept = 0, linetype = "solid") +
geom_vline(xintercept = as.numeric(as.Date("2020-01-01")), linetype="dashed") +
geom_vline(xintercept = as.numeric(as.Date("2022-01-01")), linetype="dashed") +
scale_y_continuous(name="Patient Number", limits = c(0, 750000)) +
scale_x_date(name=" ", breaks = "3 months", date_labels = paste0("%Y",".","%m"), limits = as.Date(c('2018-01-01','2023-12-31')),
expand = c(0,1)) +
scale_color_manual(values = c("Total(anti)" = "Black", "Penicillins" = "Blue", "Cephalosporins" = "Red",
"Tetracyclines" = "Green", "Macrolides" = "Purple", "Glycopeptides" = "Brown",
"Aminoglycosides" = "Gray", "Amphenicols" = "Orange", "Ketolides" = "Pink", "Other" = "Turquoise"),
breaks = c("Total(anti)", "Penicillins", "Cephalosporins", "Tetracyclines",
"Macrolides", "Glycopeptides", "Aminoglycosides", "Amphenicols",
"Ketolides", "Other"),
name = "Category") +
labs(title = "Patient number by Hospital Classification") +
facet_wrap(~YOYANG_CLSFC_CD_ADJ) +  # 패싯을 추가하여 각 병원 등급 구분
theme_gray(20) +
theme(panel.background = element_blank(),
panel.grid.major = element_line(color = "grey90", size = 0.5),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1, face = 'bold', size = 10),
axis.text.y = element_text(face = 'bold'),
axis.title.y = element_text(face = 'bold'),
plot.title = element_text(size = rel(1.0)),
legend.title = element_blank())
###병원(pt,pres,amt) ----
####병원 pt ----
#y축을 지정
ggplot(data = H_anti, aes(x = date, y = category_pt)) +
geom_point(aes(color = "Total(anti)"), size = 1.5) +
geom_line(aes(color = "Total(anti)")) +
geom_point(data = H_peni, aes(color = "Penicillins"), size = 1.5) +
geom_line(data = H_peni, aes(color = "Penicillins")) +
geom_point(data = H_cepha, aes(color = "Cephalosporins"), size = 1.5) +
geom_line(data = H_cepha, aes(color = "Cephalosporins")) +
geom_point(data = H_tetra, aes(color = "Tetracyclines"), size = 1.5) +
geom_line(data = H_tetra, aes(color = "Tetracyclines")) +
geom_point(data = H_macro, aes(color = "Macrolides"), size = 1.5) +
geom_line(data = H_macro, aes(color = "Macrolides")) +
geom_point(data = H_glyco, aes(color = "Glycopeptides"), size = 1.5) +
geom_line(data = H_glyco, aes(color = "Glycopeptides")) +
geom_point(data = H_amino, aes(color = "Aminoglycosides"), size = 1.5) +
geom_line(data = H_amino, aes(color = "Aminoglycosides")) +
geom_point(data = H_amphe, aes(color = "Amphenicols"), size = 1.5) +
geom_line(data = H_amphe, aes(color = "Amphenicols")) +
geom_point(data = H_keto, aes(color = "Ketolides"), size = 1.5) +
geom_line(data = H_keto, aes(color = "Ketolides")) +
geom_point(data = H_other, aes(color = "Other"), size = 1.5) +
geom_line(data = H_other, aes(color = "Other")) +
geom_hline(yintercept = 0, linetype = "solid") +
geom_vline(xintercept = as.numeric(as.Date("2020-01-01")), linetype="dashed") +
geom_vline(xintercept = as.numeric(as.Date("2022-01-01")), linetype="dashed") +
scale_y_continuous(name="Patient Number", limits = c(0, 1000000)) +
scale_x_date(name=" ", breaks = "3 months", date_labels = paste0("%Y",".","%m"), limits = as.Date(c('2018-01-01','2023-12-31')),
expand = c(0,1)) +
scale_color_manual(values = c("Total(anti)" = "Black", "Penicillins" = "Blue", "Cephalosporins" = "Red",
"Tetracyclines" = "Green", "Macrolides" = "Purple", "Glycopeptides" = "Brown",
"Aminoglycosides" = "Gray", "Amphenicols" = "Orange", "Ketolides" = "Pink", "Other" = "Turquoise"),
breaks = c("Total(anti)", "Penicillins", "Cephalosporins", "Tetracyclines",
"Macrolides", "Glycopeptides", "Aminoglycosides", "Amphenicols",
"Ketolides", "Other"),
name = "Category") +
labs(title = "Patient number by Hospital Classification") +
facet_wrap(~YOYANG_CLSFC_CD_ADJ) +  # 패싯을 추가하여 각 병원 등급 구분
theme_gray(20) +
theme(panel.background = element_blank(),
panel.grid.major = element_line(color = "grey90", size = 0.5),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1, face = 'bold', size = 10),
axis.text.y = element_text(face = 'bold'),
axis.title.y = element_text(face = 'bold'),
plot.title = element_text(size = rel(1.0)),
legend.title = element_blank())
####의원 pres----
ggplot(data = P_anti, aes(x = date, y = category_pres)) +
geom_point(aes(color = "Total(anti)"), size = 1.5) +
geom_line(aes(color = "Total(anti)")) +
geom_point(data = P_peni, aes(color = "Penicillins"), size = 1.5) +
geom_line(data = P_peni, aes(color = "Penicillins")) +
geom_point(data = P_cepha, aes(color = "Cephalosporins"), size = 1.5) +
geom_line(data = P_cepha, aes(color = "Cephalosporins")) +
geom_point(data = P_tetra, aes(color = "Tetracyclines"), size = 1.5) +
geom_line(data = P_tetra, aes(color = "Tetracyclines")) +
geom_point(data = P_macro, aes(color = "Macrolides"), size = 1.5) +
geom_line(data = P_macro, aes(color = "Macrolides")) +
geom_point(data = P_glyco, aes(color = "Glycopeptides"), size = 1.5) +
geom_line(data = P_glyco, aes(color = "Glycopeptides")) +
geom_point(data = P_amino, aes(color = "Aminoglycosides"), size = 1.5) +
geom_line(data = P_amino, aes(color = "Aminoglycosides")) +
geom_point(data = P_amphe, aes(color = "Amphenicols"), size = 1.5) +
geom_line(data = P_amphe, aes(color = "Amphenicols")) +
geom_point(data = P_keto, aes(color = "Ketolides"), size = 1.5) +
geom_line(data = P_keto, aes(color = "Ketolides")) +
geom_point(data = P_other, aes(color = "Other"), size = 1.5) +
geom_line(data = P_other, aes(color = "Other")) +
geom_hline(yintercept = 0, linetype = "solid") +
geom_vline(xintercept = as.numeric(as.Date("2020-01-01")), linetype="dashed") +
geom_vline(xintercept = as.numeric(as.Date("2022-01-01")), linetype="dashed") +
scale_y_continuous(name="Prescription Number", limits = c(0, 750000)) +
scale_x_date(name=" ", breaks = "3 months", date_labels = paste0("%Y",".","%m"), limits = as.Date(c('2018-01-01','2023-12-31')),
expand = c(0,1)) +
scale_color_manual(values = c("Total(anti)" = "Black", "Penicillins" = "Blue", "Cephalosporins" = "Red",
"Tetracyclines" = "Green", "Macrolides" = "Purple", "Glycopeptides" = "Brown",
"Aminoglycosides" = "Gray", "Amphenicols" = "Orange", "Ketolides" = "Pink", "Other" = "Turquoise"),
breaks = c("Total(anti)", "Penicillins", "Cephalosporins", "Tetracyclines",
"Macrolides", "Glycopeptides", "Aminoglycosides", "Amphenicols",
"Ketolides", "Other"),
name = "Category") +
labs(title = "Prescription number by Hospital Classification") +
facet_wrap(~YOYANG_CLSFC_CD_ADJ) +  # 패싯을 추가하여 각 병원 등급 구분
theme_gray(20) +
theme(panel.background = element_blank(),
panel.grid.major = element_line(color = "grey90", size = 0.5),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1, face = 'bold', size = 10),
axis.text.y = element_text(face = 'bold'),
axis.title.y = element_text(face = 'bold'),
plot.title = element_text(size = rel(1.0)),
legend.title = element_blank())
####의원 pres----
ggplot(data = P_anti, aes(x = date, y = category_pres)) +
geom_point(aes(color = "Total(anti)"), size = 1.5) +
geom_line(aes(color = "Total(anti)")) +
geom_point(data = P_peni, aes(color = "Penicillins"), size = 1.5) +
geom_line(data = P_peni, aes(color = "Penicillins")) +
geom_point(data = P_cepha, aes(color = "Cephalosporins"), size = 1.5) +
geom_line(data = P_cepha, aes(color = "Cephalosporins")) +
geom_point(data = P_tetra, aes(color = "Tetracyclines"), size = 1.5) +
geom_line(data = P_tetra, aes(color = "Tetracyclines")) +
geom_point(data = P_macro, aes(color = "Macrolides"), size = 1.5) +
geom_line(data = P_macro, aes(color = "Macrolides")) +
geom_point(data = P_glyco, aes(color = "Glycopeptides"), size = 1.5) +
geom_line(data = P_glyco, aes(color = "Glycopeptides")) +
geom_point(data = P_amino, aes(color = "Aminoglycosides"), size = 1.5) +
geom_line(data = P_amino, aes(color = "Aminoglycosides")) +
geom_point(data = P_amphe, aes(color = "Amphenicols"), size = 1.5) +
geom_line(data = P_amphe, aes(color = "Amphenicols")) +
geom_point(data = P_keto, aes(color = "Ketolides"), size = 1.5) +
geom_line(data = P_keto, aes(color = "Ketolides")) +
geom_point(data = P_other, aes(color = "Other"), size = 1.5) +
geom_line(data = P_other, aes(color = "Other")) +
geom_hline(yintercept = 0, linetype = "solid") +
geom_vline(xintercept = as.numeric(as.Date("2020-01-01")), linetype="dashed") +
geom_vline(xintercept = as.numeric(as.Date("2022-01-01")), linetype="dashed") +
scale_y_continuous(name="Prescription Number", limits = c(0, 10000000)) +
scale_x_date(name=" ", breaks = "3 months", date_labels = paste0("%Y",".","%m"), limits = as.Date(c('2018-01-01','2023-12-31')),
expand = c(0,1)) +
scale_color_manual(values = c("Total(anti)" = "Black", "Penicillins" = "Blue", "Cephalosporins" = "Red",
"Tetracyclines" = "Green", "Macrolides" = "Purple", "Glycopeptides" = "Brown",
"Aminoglycosides" = "Gray", "Amphenicols" = "Orange", "Ketolides" = "Pink", "Other" = "Turquoise"),
breaks = c("Total(anti)", "Penicillins", "Cephalosporins", "Tetracyclines",
"Macrolides", "Glycopeptides", "Aminoglycosides", "Amphenicols",
"Ketolides", "Other"),
name = "Category") +
labs(title = "Prescription number by Hospital Classification") +
facet_wrap(~YOYANG_CLSFC_CD_ADJ) +  # 패싯을 추가하여 각 병원 등급 구분
theme_gray(20) +
theme(panel.background = element_blank(),
panel.grid.major = element_line(color = "grey90", size = 0.5),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1, face = 'bold', size = 10),
axis.text.y = element_text(face = 'bold'),
axis.title.y = element_text(face = 'bold'),
plot.title = element_text(size = rel(1.0)),
legend.title = element_blank())
####의원 pres----
ggplot(data = P_anti, aes(x = date, y = category_pres)) +
geom_point(aes(color = "Total(anti)"), size = 1.5) +
geom_line(aes(color = "Total(anti)")) +
geom_point(data = P_peni, aes(color = "Penicillins"), size = 1.5) +
geom_line(data = P_peni, aes(color = "Penicillins")) +
geom_point(data = P_cepha, aes(color = "Cephalosporins"), size = 1.5) +
geom_line(data = P_cepha, aes(color = "Cephalosporins")) +
geom_point(data = P_tetra, aes(color = "Tetracyclines"), size = 1.5) +
geom_line(data = P_tetra, aes(color = "Tetracyclines")) +
geom_point(data = P_macro, aes(color = "Macrolides"), size = 1.5) +
geom_line(data = P_macro, aes(color = "Macrolides")) +
geom_point(data = P_glyco, aes(color = "Glycopeptides"), size = 1.5) +
geom_line(data = P_glyco, aes(color = "Glycopeptides")) +
geom_point(data = P_amino, aes(color = "Aminoglycosides"), size = 1.5) +
geom_line(data = P_amino, aes(color = "Aminoglycosides")) +
geom_point(data = P_amphe, aes(color = "Amphenicols"), size = 1.5) +
geom_line(data = P_amphe, aes(color = "Amphenicols")) +
geom_point(data = P_keto, aes(color = "Ketolides"), size = 1.5) +
geom_line(data = P_keto, aes(color = "Ketolides")) +
geom_point(data = P_other, aes(color = "Other"), size = 1.5) +
geom_line(data = P_other, aes(color = "Other")) +
geom_hline(yintercept = 0, linetype = "solid") +
geom_vline(xintercept = as.numeric(as.Date("2020-01-01")), linetype="dashed") +
geom_vline(xintercept = as.numeric(as.Date("2022-01-01")), linetype="dashed") +
scale_y_continuous(name="Prescription Number", limits = c(0, 100000000)) +
scale_x_date(name=" ", breaks = "3 months", date_labels = paste0("%Y",".","%m"), limits = as.Date(c('2018-01-01','2023-12-31')),
expand = c(0,1)) +
scale_color_manual(values = c("Total(anti)" = "Black", "Penicillins" = "Blue", "Cephalosporins" = "Red",
"Tetracyclines" = "Green", "Macrolides" = "Purple", "Glycopeptides" = "Brown",
"Aminoglycosides" = "Gray", "Amphenicols" = "Orange", "Ketolides" = "Pink", "Other" = "Turquoise"),
breaks = c("Total(anti)", "Penicillins", "Cephalosporins", "Tetracyclines",
"Macrolides", "Glycopeptides", "Aminoglycosides", "Amphenicols",
"Ketolides", "Other"),
name = "Category") +
labs(title = "Prescription number by Hospital Classification") +
facet_wrap(~YOYANG_CLSFC_CD_ADJ) +  # 패싯을 추가하여 각 병원 등급 구분
theme_gray(20) +
theme(panel.background = element_blank(),
panel.grid.major = element_line(color = "grey90", size = 0.5),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1, face = 'bold', size = 10),
axis.text.y = element_text(face = 'bold'),
axis.title.y = element_text(face = 'bold'),
plot.title = element_text(size = rel(1.0)),
legend.title = element_blank())
####의원 pres----
ggplot(data = P_anti, aes(x = date, y = category_pres)) +
geom_point(aes(color = "Total(anti)"), size = 1.5) +
geom_line(aes(color = "Total(anti)")) +
geom_point(data = P_peni, aes(color = "Penicillins"), size = 1.5) +
geom_line(data = P_peni, aes(color = "Penicillins")) +
geom_point(data = P_cepha, aes(color = "Cephalosporins"), size = 1.5) +
geom_line(data = P_cepha, aes(color = "Cephalosporins")) +
geom_point(data = P_tetra, aes(color = "Tetracyclines"), size = 1.5) +
geom_line(data = P_tetra, aes(color = "Tetracyclines")) +
geom_point(data = P_macro, aes(color = "Macrolides"), size = 1.5) +
geom_line(data = P_macro, aes(color = "Macrolides")) +
geom_point(data = P_glyco, aes(color = "Glycopeptides"), size = 1.5) +
geom_line(data = P_glyco, aes(color = "Glycopeptides")) +
geom_point(data = P_amino, aes(color = "Aminoglycosides"), size = 1.5) +
geom_line(data = P_amino, aes(color = "Aminoglycosides")) +
geom_point(data = P_amphe, aes(color = "Amphenicols"), size = 1.5) +
geom_line(data = P_amphe, aes(color = "Amphenicols")) +
geom_point(data = P_keto, aes(color = "Ketolides"), size = 1.5) +
geom_line(data = P_keto, aes(color = "Ketolides")) +
geom_point(data = P_other, aes(color = "Other"), size = 1.5) +
geom_line(data = P_other, aes(color = "Other")) +
geom_hline(yintercept = 0, linetype = "solid") +
geom_vline(xintercept = as.numeric(as.Date("2020-01-01")), linetype="dashed") +
geom_vline(xintercept = as.numeric(as.Date("2022-01-01")), linetype="dashed") +
scale_y_continuous(name="Prescription Number", limits = c(0, 25000000)) +
scale_x_date(name=" ", breaks = "3 months", date_labels = paste0("%Y",".","%m"), limits = as.Date(c('2018-01-01','2023-12-31')),
expand = c(0,1)) +
scale_color_manual(values = c("Total(anti)" = "Black", "Penicillins" = "Blue", "Cephalosporins" = "Red",
"Tetracyclines" = "Green", "Macrolides" = "Purple", "Glycopeptides" = "Brown",
"Aminoglycosides" = "Gray", "Amphenicols" = "Orange", "Ketolides" = "Pink", "Other" = "Turquoise"),
breaks = c("Total(anti)", "Penicillins", "Cephalosporins", "Tetracyclines",
"Macrolides", "Glycopeptides", "Aminoglycosides", "Amphenicols",
"Ketolides", "Other"),
name = "Category") +
labs(title = "Prescription number by Hospital Classification") +
facet_wrap(~YOYANG_CLSFC_CD_ADJ) +  # 패싯을 추가하여 각 병원 등급 구분
theme_gray(20) +
theme(panel.background = element_blank(),
panel.grid.major = element_line(color = "grey90", size = 0.5),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1, face = 'bold', size = 10),
axis.text.y = element_text(face = 'bold'),
axis.title.y = element_text(face = 'bold'),
plot.title = element_text(size = rel(1.0)),
legend.title = element_blank())
####의원 pres----
ggplot(data = P_anti, aes(x = date, y = category_pres)) +
geom_point(aes(color = "Total(anti)"), size = 1.5) +
geom_line(aes(color = "Total(anti)")) +
geom_point(data = P_peni, aes(color = "Penicillins"), size = 1.5) +
geom_line(data = P_peni, aes(color = "Penicillins")) +
geom_point(data = P_cepha, aes(color = "Cephalosporins"), size = 1.5) +
geom_line(data = P_cepha, aes(color = "Cephalosporins")) +
geom_point(data = P_tetra, aes(color = "Tetracyclines"), size = 1.5) +
geom_line(data = P_tetra, aes(color = "Tetracyclines")) +
geom_point(data = P_macro, aes(color = "Macrolides"), size = 1.5) +
geom_line(data = P_macro, aes(color = "Macrolides")) +
geom_point(data = P_glyco, aes(color = "Glycopeptides"), size = 1.5) +
geom_line(data = P_glyco, aes(color = "Glycopeptides")) +
geom_point(data = P_amino, aes(color = "Aminoglycosides"), size = 1.5) +
geom_line(data = P_amino, aes(color = "Aminoglycosides")) +
geom_point(data = P_amphe, aes(color = "Amphenicols"), size = 1.5) +
geom_line(data = P_amphe, aes(color = "Amphenicols")) +
geom_point(data = P_keto, aes(color = "Ketolides"), size = 1.5) +
geom_line(data = P_keto, aes(color = "Ketolides")) +
geom_point(data = P_other, aes(color = "Other"), size = 1.5) +
geom_line(data = P_other, aes(color = "Other")) +
geom_hline(yintercept = 0, linetype = "solid") +
geom_vline(xintercept = as.numeric(as.Date("2020-01-01")), linetype="dashed") +
geom_vline(xintercept = as.numeric(as.Date("2022-01-01")), linetype="dashed") +
scale_y_continuous(name="Prescription Number", limits = c(0, 12500000)) +
scale_x_date(name=" ", breaks = "3 months", date_labels = paste0("%Y",".","%m"), limits = as.Date(c('2018-01-01','2023-12-31')),
expand = c(0,1)) +
scale_color_manual(values = c("Total(anti)" = "Black", "Penicillins" = "Blue", "Cephalosporins" = "Red",
"Tetracyclines" = "Green", "Macrolides" = "Purple", "Glycopeptides" = "Brown",
"Aminoglycosides" = "Gray", "Amphenicols" = "Orange", "Ketolides" = "Pink", "Other" = "Turquoise"),
breaks = c("Total(anti)", "Penicillins", "Cephalosporins", "Tetracyclines",
"Macrolides", "Glycopeptides", "Aminoglycosides", "Amphenicols",
"Ketolides", "Other"),
name = "Category") +
labs(title = "Prescription number by Hospital Classification") +
facet_wrap(~YOYANG_CLSFC_CD_ADJ) +  # 패싯을 추가하여 각 병원 등급 구분
theme_gray(20) +
theme(panel.background = element_blank(),
panel.grid.major = element_line(color = "grey90", size = 0.5),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1, face = 'bold', size = 10),
axis.text.y = element_text(face = 'bold'),
axis.title.y = element_text(face = 'bold'),
plot.title = element_text(size = rel(1.0)),
legend.title = element_blank())
####병원 pres----
#y축을 750,000으로 지정
ggplot(data = H_anti, aes(x = date, y = category_pres)) +
geom_point(aes(color = "Total(anti)"), size = 1.5) +
geom_line(aes(color = "Total(anti)")) +
geom_point(data = H_peni, aes(color = "Penicillins"), size = 1.5) +
geom_line(data = H_peni, aes(color = "Penicillins")) +
geom_point(data = H_cepha, aes(color = "Cephalosporins"), size = 1.5) +
geom_line(data = H_cepha, aes(color = "Cephalosporins")) +
geom_point(data = H_tetra, aes(color = "Tetracyclines"), size = 1.5) +
geom_line(data = H_tetra, aes(color = "Tetracyclines")) +
geom_point(data = H_macro, aes(color = "Macrolides"), size = 1.5) +
geom_line(data = H_macro, aes(color = "Macrolides")) +
geom_point(data = H_glyco, aes(color = "Glycopeptides"), size = 1.5) +
geom_line(data = H_glyco, aes(color = "Glycopeptides")) +
geom_point(data = H_amino, aes(color = "Aminoglycosides"), size = 1.5) +
geom_line(data = H_amino, aes(color = "Aminoglycosides")) +
geom_point(data = H_amphe, aes(color = "Amphenicols"), size = 1.5) +
geom_line(data = H_amphe, aes(color = "Amphenicols")) +
geom_point(data = H_keto, aes(color = "Ketolides"), size = 1.5) +
geom_line(data = H_keto, aes(color = "Ketolides")) +
geom_point(data = H_other, aes(color = "Other"), size = 1.5) +
geom_line(data = H_other, aes(color = "Other")) +
geom_hline(yintercept = 0, linetype = "solid") +
geom_vline(xintercept = as.numeric(as.Date("2020-01-01")), linetype="dashed") +
geom_vline(xintercept = as.numeric(as.Date("2022-01-01")), linetype="dashed") +
scale_y_continuous(name="Prescription Number", limits = c(0, 7500000)) +
scale_x_date(name=" ", breaks = "3 months", date_labels = paste0("%Y",".","%m"), limits = as.Date(c('2018-01-01','2023-12-31')),
expand = c(0,1)) +
scale_color_manual(values = c("Total(anti)" = "Black", "Penicillins" = "Blue", "Cephalosporins" = "Red",
"Tetracyclines" = "Green", "Macrolides" = "Purple", "Glycopeptides" = "Brown",
"Aminoglycosides" = "Gray", "Amphenicols" = "Orange", "Ketolides" = "Pink", "Other" = "Turquoise"),
breaks = c("Total(anti)", "Penicillins", "Cephalosporins", "Tetracyclines",
"Macrolides", "Glycopeptides", "Aminoglycosides", "Amphenicols",
"Ketolides", "Other"),
name = "Category") +
labs(title = "Prescription number by Hospital Classification") +
facet_wrap(~YOYANG_CLSFC_CD_ADJ) +  # 패싯을 추가하여 각 병원 등급 구분
theme_gray(20) +
theme(panel.background = element_blank(),
panel.grid.major = element_line(color = "grey90", size = 0.5),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1, face = 'bold', size = 10),
axis.text.y = element_text(face = 'bold'),
axis.title.y = element_text(face = 'bold'),
plot.title = element_text(size = rel(1.0)),
legend.title = element_blank())
####병원 pres----
#y축을 750,000으로 지정
ggplot(data = H_anti, aes(x = date, y = category_pres)) +
geom_point(aes(color = "Total(anti)"), size = 1.5) +
geom_line(aes(color = "Total(anti)")) +
geom_point(data = H_peni, aes(color = "Penicillins"), size = 1.5) +
geom_line(data = H_peni, aes(color = "Penicillins")) +
geom_point(data = H_cepha, aes(color = "Cephalosporins"), size = 1.5) +
geom_line(data = H_cepha, aes(color = "Cephalosporins")) +
geom_point(data = H_tetra, aes(color = "Tetracyclines"), size = 1.5) +
geom_line(data = H_tetra, aes(color = "Tetracyclines")) +
geom_point(data = H_macro, aes(color = "Macrolides"), size = 1.5) +
geom_line(data = H_macro, aes(color = "Macrolides")) +
geom_point(data = H_glyco, aes(color = "Glycopeptides"), size = 1.5) +
geom_line(data = H_glyco, aes(color = "Glycopeptides")) +
geom_point(data = H_amino, aes(color = "Aminoglycosides"), size = 1.5) +
geom_line(data = H_amino, aes(color = "Aminoglycosides")) +
geom_point(data = H_amphe, aes(color = "Amphenicols"), size = 1.5) +
geom_line(data = H_amphe, aes(color = "Amphenicols")) +
geom_point(data = H_keto, aes(color = "Ketolides"), size = 1.5) +
geom_line(data = H_keto, aes(color = "Ketolides")) +
geom_point(data = H_other, aes(color = "Other"), size = 1.5) +
geom_line(data = H_other, aes(color = "Other")) +
geom_hline(yintercept = 0, linetype = "solid") +
geom_vline(xintercept = as.numeric(as.Date("2020-01-01")), linetype="dashed") +
geom_vline(xintercept = as.numeric(as.Date("2022-01-01")), linetype="dashed") +
scale_y_continuous(name="Prescription Number", limits = c(0, 10000000)) +
scale_x_date(name=" ", breaks = "3 months", date_labels = paste0("%Y",".","%m"), limits = as.Date(c('2018-01-01','2023-12-31')),
expand = c(0,1)) +
scale_color_manual(values = c("Total(anti)" = "Black", "Penicillins" = "Blue", "Cephalosporins" = "Red",
"Tetracyclines" = "Green", "Macrolides" = "Purple", "Glycopeptides" = "Brown",
"Aminoglycosides" = "Gray", "Amphenicols" = "Orange", "Ketolides" = "Pink", "Other" = "Turquoise"),
breaks = c("Total(anti)", "Penicillins", "Cephalosporins", "Tetracyclines",
"Macrolides", "Glycopeptides", "Aminoglycosides", "Amphenicols",
"Ketolides", "Other"),
name = "Category") +
labs(title = "Prescription number by Hospital Classification") +
facet_wrap(~YOYANG_CLSFC_CD_ADJ) +  # 패싯을 추가하여 각 병원 등급 구분
theme_gray(20) +
theme(panel.background = element_blank(),
panel.grid.major = element_line(color = "grey90", size = 0.5),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1, face = 'bold', size = 10),
axis.text.y = element_text(face = 'bold'),
axis.title.y = element_text(face = 'bold'),
plot.title = element_text(size = rel(1.0)),
legend.title = element_blank())
####병원 pres----
#y축을 750,000으로 지정
ggplot(data = H_anti, aes(x = date, y = category_pres)) +
geom_point(aes(color = "Total(anti)"), size = 1.5) +
geom_line(aes(color = "Total(anti)")) +
geom_point(data = H_peni, aes(color = "Penicillins"), size = 1.5) +
geom_line(data = H_peni, aes(color = "Penicillins")) +
geom_point(data = H_cepha, aes(color = "Cephalosporins"), size = 1.5) +
geom_line(data = H_cepha, aes(color = "Cephalosporins")) +
geom_point(data = H_tetra, aes(color = "Tetracyclines"), size = 1.5) +
geom_line(data = H_tetra, aes(color = "Tetracyclines")) +
geom_point(data = H_macro, aes(color = "Macrolides"), size = 1.5) +
geom_line(data = H_macro, aes(color = "Macrolides")) +
geom_point(data = H_glyco, aes(color = "Glycopeptides"), size = 1.5) +
geom_line(data = H_glyco, aes(color = "Glycopeptides")) +
geom_point(data = H_amino, aes(color = "Aminoglycosides"), size = 1.5) +
geom_line(data = H_amino, aes(color = "Aminoglycosides")) +
geom_point(data = H_amphe, aes(color = "Amphenicols"), size = 1.5) +
geom_line(data = H_amphe, aes(color = "Amphenicols")) +
geom_point(data = H_keto, aes(color = "Ketolides"), size = 1.5) +
geom_line(data = H_keto, aes(color = "Ketolides")) +
geom_point(data = H_other, aes(color = "Other"), size = 1.5) +
geom_line(data = H_other, aes(color = "Other")) +
geom_hline(yintercept = 0, linetype = "solid") +
geom_vline(xintercept = as.numeric(as.Date("2020-01-01")), linetype="dashed") +
geom_vline(xintercept = as.numeric(as.Date("2022-01-01")), linetype="dashed") +
scale_y_continuous(name="Prescription Number", limits = c(0, 1000000)) +
scale_x_date(name=" ", breaks = "3 months", date_labels = paste0("%Y",".","%m"), limits = as.Date(c('2018-01-01','2023-12-31')),
expand = c(0,1)) +
scale_color_manual(values = c("Total(anti)" = "Black", "Penicillins" = "Blue", "Cephalosporins" = "Red",
"Tetracyclines" = "Green", "Macrolides" = "Purple", "Glycopeptides" = "Brown",
"Aminoglycosides" = "Gray", "Amphenicols" = "Orange", "Ketolides" = "Pink", "Other" = "Turquoise"),
breaks = c("Total(anti)", "Penicillins", "Cephalosporins", "Tetracyclines",
"Macrolides", "Glycopeptides", "Aminoglycosides", "Amphenicols",
"Ketolides", "Other"),
name = "Category") +
labs(title = "Prescription number by Hospital Classification") +
facet_wrap(~YOYANG_CLSFC_CD_ADJ) +  # 패싯을 추가하여 각 병원 등급 구분
theme_gray(20) +
theme(panel.background = element_blank(),
panel.grid.major = element_line(color = "grey90", size = 0.5),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1, face = 'bold', size = 10),
axis.text.y = element_text(face = 'bold'),
axis.title.y = element_text(face = 'bold'),
plot.title = element_text(size = rel(1.0)),
legend.title = element_blank())
####병원 pres----
#y축을 750,000으로 지정
ggplot(data = H_anti, aes(x = date, y = category_pres)) +
geom_point(aes(color = "Total(anti)"), size = 1.5) +
geom_line(aes(color = "Total(anti)")) +
geom_point(data = H_peni, aes(color = "Penicillins"), size = 1.5) +
geom_line(data = H_peni, aes(color = "Penicillins")) +
geom_point(data = H_cepha, aes(color = "Cephalosporins"), size = 1.5) +
geom_line(data = H_cepha, aes(color = "Cephalosporins")) +
geom_point(data = H_tetra, aes(color = "Tetracyclines"), size = 1.5) +
geom_line(data = H_tetra, aes(color = "Tetracyclines")) +
geom_point(data = H_macro, aes(color = "Macrolides"), size = 1.5) +
geom_line(data = H_macro, aes(color = "Macrolides")) +
geom_point(data = H_glyco, aes(color = "Glycopeptides"), size = 1.5) +
geom_line(data = H_glyco, aes(color = "Glycopeptides")) +
geom_point(data = H_amino, aes(color = "Aminoglycosides"), size = 1.5) +
geom_line(data = H_amino, aes(color = "Aminoglycosides")) +
geom_point(data = H_amphe, aes(color = "Amphenicols"), size = 1.5) +
geom_line(data = H_amphe, aes(color = "Amphenicols")) +
geom_point(data = H_keto, aes(color = "Ketolides"), size = 1.5) +
geom_line(data = H_keto, aes(color = "Ketolides")) +
geom_point(data = H_other, aes(color = "Other"), size = 1.5) +
geom_line(data = H_other, aes(color = "Other")) +
geom_hline(yintercept = 0, linetype = "solid") +
geom_vline(xintercept = as.numeric(as.Date("2020-01-01")), linetype="dashed") +
geom_vline(xintercept = as.numeric(as.Date("2022-01-01")), linetype="dashed") +
scale_y_continuous(name="Prescription Number", limits = c(0, 1250000)) +
scale_x_date(name=" ", breaks = "3 months", date_labels = paste0("%Y",".","%m"), limits = as.Date(c('2018-01-01','2023-12-31')),
expand = c(0,1)) +
scale_color_manual(values = c("Total(anti)" = "Black", "Penicillins" = "Blue", "Cephalosporins" = "Red",
"Tetracyclines" = "Green", "Macrolides" = "Purple", "Glycopeptides" = "Brown",
"Aminoglycosides" = "Gray", "Amphenicols" = "Orange", "Ketolides" = "Pink", "Other" = "Turquoise"),
breaks = c("Total(anti)", "Penicillins", "Cephalosporins", "Tetracyclines",
"Macrolides", "Glycopeptides", "Aminoglycosides", "Amphenicols",
"Ketolides", "Other"),
name = "Category") +
labs(title = "Prescription number by Hospital Classification") +
facet_wrap(~YOYANG_CLSFC_CD_ADJ) +  # 패싯을 추가하여 각 병원 등급 구분
theme_gray(20) +
theme(panel.background = element_blank(),
panel.grid.major = element_line(color = "grey90", size = 0.5),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1, face = 'bold', size = 10),
axis.text.y = element_text(face = 'bold'),
axis.title.y = element_text(face = 'bold'),
plot.title = element_text(size = rel(1.0)),
legend.title = element_blank())
